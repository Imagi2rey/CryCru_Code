{"ast":null,"code":"var _jsxFileName = \"/home/kali/proCry/CryCru/src/components/CoinIndexPage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { FaCircleNotch, FaCaretDown, FaCaretUp, FaCaretRight, FaSync } from 'react-icons/fa';\nimport selectCoins from '../selectors/coins';\nimport { setCoins } from '../actions/coins';\nimport { updatePriceInfo } from '../actions/price-info';\nimport { setTextFilter, sortByNameAsc, sortByNameDesc, sortByMktCapAsc, sortByMktCapDesc, sortByPriceAsc, sortByPriceDesc, sortByChangeAsc, sortByChangeDesc } from '../actions/filters';\nimport CoinTile from './CoinTile';\nimport Scroller from './Scroller';\n\nconst cc = require('cryptocompare');\n\ncc.setApiKey(process.env.REACT_APP_CRYPTO_COMPARE_API_KEY);\n\nclass CoinIndexPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sort: ''\n    };\n\n    this.componentDidMount = () => {\n      if (!this.props.priceInfo.all && this.props.coins.length > 0) {\n        this.fetchCoins();\n      }\n\n      this._ismounted = true;\n    };\n\n    this.componentDidUpdate = () => {\n      if (!this.props.priceInfo.all && this.props.coins.length > 0) {\n        this.fetchCoins();\n      }\n    };\n\n    this.updatePrices = () => {\n      document.getElementById('refresh-prices-icon').classList.add('fa-spin');\n      this.fetchCoins();\n    };\n\n    this.fetchCoins = () => {\n      const coins = this.props.coins;\n      const coinKeys = [];\n\n      for (let i = 0; i < coins.length; i++) {\n        coinKeys.push(coins[i].symbol);\n      }\n\n      this.fetchPrices([], [], [...coinKeys], [...coins], 100, 'USD');\n    };\n\n    this.fetchPrices = (processedKeys, processedCoins, remainingKeys, remainingData, spliceSize, currency) => {\n      const keysSplice = remainingKeys.splice(0, spliceSize);\n      const dataSplice = remainingData.splice(0, spliceSize);\n      console.log(keysSplice);\n      cc.priceFull(keysSplice, [currency]).then(prices => {\n        for (let i = 0; i < keysSplice.length; i++) {\n          let price = null,\n              changeDay = null,\n              changePctDay = null,\n              mktCap = null,\n              imgUrl = null,\n              totalVol24hr = null,\n              supply = null,\n              high24hr = null,\n              low24hr = null;\n\n          if (prices[keysSplice[i]]) {\n            price = prices[keysSplice[i]][currency].PRICE;\n            changeDay = prices[keysSplice[i]][currency].CHANGEDAY;\n            changePctDay = prices[keysSplice[i]][currency].CHANGEPCTDAY;\n            mktCap = prices[keysSplice[i]][currency].MKTCAP;\n            totalVol24hr = prices[keysSplice[i]][currency].VOLUMEDAY;\n            supply = prices[keysSplice[i]][currency].SUPPLY;\n            high24hr = prices[keysSplice[i]][currency].HIGH24HOUR;\n            low24hr = prices[keysSplice[i]][currency].LOW24HOUR;\n          } else {\n            price = 0;\n            changeDay = 0;\n            changePctDay = 0;\n            mktCap = 0;\n            totalVol24hr = 0;\n            supply = 0;\n            high24hr = 0;\n            low24hr = 0;\n          }\n\n          dataSplice[i] = { ...dataSplice[i],\n            price,\n            changeDay,\n            changePctDay,\n            mktCap,\n            totalVol24hr,\n            supply,\n            high24hr,\n            low24hr,\n            imgUrl\n          };\n        }\n\n        processedKeys = processedKeys.concat(keysSplice);\n        processedCoins = processedCoins.concat(dataSplice);\n\n        if (remainingData.length > 0) {\n          this.fetchPrices(processedKeys, processedCoins, remainingKeys, remainingData, spliceSize, currency);\n        } else {\n          this.props.setCoins(processedCoins);\n          this.props.sortByMktCapDesc();\n          this.props.updatePriceInfo({\n            all: true,\n            allLastUpdated: moment().valueOf()\n          });\n\n          if (this._ismounted) {\n            this.setState(() => ({\n              pricesLoaded: true,\n              sort: 'mktCapDesc'\n            }));\n            document.getElementById('refresh-prices-icon').classList.remove('fa-spin');\n          }\n\n          return;\n        }\n      }).catch(console.error);\n    };\n\n    this.handleTextChange = e => {\n      this.props.setTextFilter(e.target.value);\n    };\n\n    this.handleNameSort = () => {\n      if (this.state.sort === 'nameAsc') {\n        this.props.sortByNameDesc();\n        this.setState(() => ({\n          sort: 'nameDesc'\n        }));\n      } else {\n        this.props.sortByNameAsc();\n        this.setState(() => ({\n          sort: 'nameAsc'\n        }));\n      }\n    };\n\n    this.handlePriceSort = () => {\n      if (this.state.sort === 'priceDesc') {\n        this.props.sortByPriceAsc();\n        this.setState(() => ({\n          sort: 'priceAsc'\n        }));\n      } else {\n        this.props.sortByPriceDesc();\n        this.setState(() => ({\n          sort: 'priceDesc'\n        }));\n      }\n    };\n\n    this.handleChangeSort = () => {\n      if (this.state.sort === 'changeDesc') {\n        this.props.sortByChangeAsc();\n        this.setState(() => ({\n          sort: 'changeAsc'\n        }));\n      } else {\n        this.props.sortByChangeDesc();\n        this.setState(() => ({\n          sort: 'changeDesc'\n        }));\n      }\n    };\n\n    this.handleMktCapSort = () => {\n      if (this.state.sort === 'mktCapDesc') {\n        this.props.sortByMktCapAsc();\n        this.setState(() => ({\n          sort: 'mktCapAsc'\n        }));\n      } else {\n        this.props.sortByMktCapDesc();\n        this.setState(() => ({\n          sort: 'mktCapDesc'\n        }));\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n    this.props.setTextFilter('');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-input\",\n      placeholder: \"Search coins\",\n      value: this.props.filters.text,\n      onChange: this.handleTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"updater\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"updater__last-updated\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, \"Last Updated:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"updater__time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, this.props.priceInfo.allLastUpdated && moment(this.props.priceInfo.allLastUpdated).format('HH:mm'))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"updater__button\",\n      onClick: this.updatePrices,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FaSync, {\n      size: \"1rem\",\n      id: \"refresh-prices-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }), \"Refresh Prices\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"coin-list\",\n      className: \"index\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-header show-for-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table_header__sort\",\n      onClick: this.handleNameSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, this.state.sort === 'nameAsc' ? /*#__PURE__*/React.createElement(FaCaretUp, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }) : this.state.sort === 'nameDesc' ? /*#__PURE__*/React.createElement(FaCaretDown, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(FaCaretRight, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }), \"Coin\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table_header__sort table_header__sort--right\",\n      onClick: this.handlePriceSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, this.state.sort === 'priceAsc' ? /*#__PURE__*/React.createElement(FaCaretUp, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }) : this.state.sort === 'priceDesc' ? /*#__PURE__*/React.createElement(FaCaretDown, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(FaCaretRight, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 19\n      }\n    }), \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table_header__sort table_header__sort--right\",\n      onClick: this.handleChangeSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, this.state.sort === 'changeAsc' ? /*#__PURE__*/React.createElement(FaCaretUp, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }) : this.state.sort === 'changeDesc' ? /*#__PURE__*/React.createElement(FaCaretDown, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(FaCaretRight, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }), \"Change\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table_header__sort table_header__sort--right\",\n      onClick: this.handleMktCapSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, this.state.sort === 'mktCapAsc' ? /*#__PURE__*/React.createElement(FaCaretUp, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }) : this.state.sort === 'mktCapDesc' ? /*#__PURE__*/React.createElement(FaCaretDown, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(FaCaretRight, {\n      size: \"1.8rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 19\n      }\n    }), \"Market Cap\")), this.props.coins.length === 0 || !this.props.priceInfo.all ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading__notificaton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, \"Loading coin data\", /*#__PURE__*/React.createElement(FaCircleNotch, {\n      size: \"2.4rem\",\n      className: \"fa-spin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 68\n      }\n    })) : (this.props.visibleCoins && this.props.visibleCoins.length) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Scroller, {\n      sliceSize: \"25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, this.props.visibleCoins.map((coin, i) => /*#__PURE__*/React.createElement(CoinTile, {\n      key: coin.symbol,\n      type: 'full',\n      index: i,\n      coin: coin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading__notificaton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, \"No coins found\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  coins: state.coins,\n  visibleCoins: selectCoins(state.coins, state.filters),\n  favorites: state.favorites,\n  filters: state.filters,\n  priceInfo: state.priceInfo\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCoins: coins => dispatch(setCoins(coins)),\n  updatePriceInfo: lastUpdated => dispatch(updatePriceInfo(lastUpdated)),\n  setTextFilter: text => dispatch(setTextFilter(text)),\n  sortByNameAsc: () => dispatch(sortByNameAsc()),\n  sortByNameDesc: () => dispatch(sortByNameDesc()),\n  sortByMktCapAsc: () => dispatch(sortByMktCapAsc()),\n  sortByMktCapDesc: () => dispatch(sortByMktCapDesc()),\n  sortByPriceAsc: () => dispatch(sortByPriceAsc()),\n  sortByPriceDesc: () => dispatch(sortByPriceDesc()),\n  sortByChangeAsc: () => dispatch(sortByChangeAsc()),\n  sortByChangeDesc: () => dispatch(sortByChangeDesc())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CoinIndexPage);","map":{"version":3,"sources":["/home/kali/proCry/CryCru/src/components/CoinIndexPage.js"],"names":["React","connect","moment","FaCircleNotch","FaCaretDown","FaCaretUp","FaCaretRight","FaSync","selectCoins","setCoins","updatePriceInfo","setTextFilter","sortByNameAsc","sortByNameDesc","sortByMktCapAsc","sortByMktCapDesc","sortByPriceAsc","sortByPriceDesc","sortByChangeAsc","sortByChangeDesc","CoinTile","Scroller","cc","require","setApiKey","process","env","REACT_APP_CRYPTO_COMPARE_API_KEY","CoinIndexPage","Component","state","sort","componentDidMount","props","priceInfo","all","coins","length","fetchCoins","_ismounted","componentDidUpdate","updatePrices","document","getElementById","classList","add","coinKeys","i","push","symbol","fetchPrices","processedKeys","processedCoins","remainingKeys","remainingData","spliceSize","currency","keysSplice","splice","dataSplice","console","log","priceFull","then","prices","price","changeDay","changePctDay","mktCap","imgUrl","totalVol24hr","supply","high24hr","low24hr","PRICE","CHANGEDAY","CHANGEPCTDAY","MKTCAP","VOLUMEDAY","SUPPLY","HIGH24HOUR","LOW24HOUR","concat","allLastUpdated","valueOf","setState","pricesLoaded","remove","catch","error","handleTextChange","e","target","value","handleNameSort","handlePriceSort","handleChangeSort","handleMktCapSort","componentWillUnmount","render","filters","text","format","visibleCoins","map","coin","mapStateToProps","favorites","mapDispatchToProps","dispatch","lastUpdated"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport { FaCircleNotch, FaCaretDown, FaCaretUp, FaCaretRight, FaSync } from 'react-icons/fa'\nimport selectCoins from '../selectors/coins'\nimport { setCoins } from '../actions/coins'\nimport { updatePriceInfo } from '../actions/price-info'\nimport {\n  setTextFilter,\n  sortByNameAsc,\n  sortByNameDesc,\n  sortByMktCapAsc,\n  sortByMktCapDesc,\n  sortByPriceAsc,\n  sortByPriceDesc,\n  sortByChangeAsc,\n  sortByChangeDesc\n} from '../actions/filters'\nimport CoinTile from './CoinTile'\nimport Scroller from './Scroller'\n\nconst cc = require('cryptocompare')\ncc.setApiKey(process.env.REACT_APP_CRYPTO_COMPARE_API_KEY)\n\nclass CoinIndexPage extends React.Component {\n  state = {\n    sort: ''\n  }\n  componentDidMount = () => {\n    if(!this.props.priceInfo.all && this.props.coins.length > 0) {\n      this.fetchCoins()\n    }\n    this._ismounted = true;\n  }\n  componentDidUpdate = () => {\n    if(!this.props.priceInfo.all && this.props.coins.length > 0) {\n      this.fetchCoins()\n    }\n  }\n  componentWillUnmount() {\n     this._ismounted = false;\n     this.props.setTextFilter('')\n  }\n  updatePrices = () => {\n    document.getElementById('refresh-prices-icon').classList.add('fa-spin')\n    this.fetchCoins()\n  }\n  fetchCoins = () => {\n    const coins = this.props.coins\n    const coinKeys = []\n    for(let i = 0; i < coins.length; i++) {\n      coinKeys.push(coins[i].symbol)\n    }\n    this.fetchPrices([], [], [...coinKeys], [...coins], 100, 'USD')\n  }\n  fetchPrices = (processedKeys, processedCoins, remainingKeys, remainingData, spliceSize, currency) => {\n    const keysSplice = remainingKeys.splice(0,spliceSize)\n    const dataSplice = remainingData.splice(0,spliceSize)\n    console.log(keysSplice)\n    \n    cc.priceFull(keysSplice, [currency]).then((prices) => {\n      for(let i = 0; i < keysSplice.length; i++) {\n        let price = null, changeDay = null, changePctDay = null, mktCap = null, imgUrl = null, totalVol24hr = null, supply = null, high24hr = null, low24hr = null;\n        if(prices[keysSplice[i]]) {\n          price = prices[keysSplice[i]][currency].PRICE\n          changeDay = prices[keysSplice[i]][currency].CHANGEDAY\n          changePctDay = prices[keysSplice[i]][currency].CHANGEPCTDAY\n          mktCap = prices[keysSplice[i]][currency].MKTCAP\n          totalVol24hr = prices[keysSplice[i]][currency].VOLUMEDAY\n          supply = prices[keysSplice[i]][currency].SUPPLY\n          high24hr = prices[keysSplice[i]][currency].HIGH24HOUR\n          low24hr = prices[keysSplice[i]][currency].LOW24HOUR\n        } else {\n          price = 0\n          changeDay = 0\n          changePctDay = 0\n          mktCap = 0\n          totalVol24hr = 0\n          supply = 0\n          high24hr = 0\n          low24hr = 0\n        }\n        dataSplice[i] = {\n          ...dataSplice[i],\n          price,\n          changeDay,\n          changePctDay,\n          mktCap,\n          totalVol24hr,\n          supply,\n          high24hr,\n          low24hr,\n          imgUrl\n        }\n      }\n      processedKeys = processedKeys.concat(keysSplice)\n      processedCoins = processedCoins.concat(dataSplice)\n      if(remainingData.length > 0) {\n        this.fetchPrices(processedKeys, processedCoins, remainingKeys, remainingData, spliceSize, currency)\n      } else {\n        this.props.setCoins(processedCoins)\n        this.props.sortByMktCapDesc()\n        this.props.updatePriceInfo({\n          all: true,\n          allLastUpdated: moment().valueOf()\n        })\n        if (this._ismounted) {\n          this.setState(() => ({\n            pricesLoaded: true,\n            sort: 'mktCapDesc'\n          }))\n          document.getElementById('refresh-prices-icon').classList.remove('fa-spin')\n        }\n        return\n      }\n        \n    }).catch(console.error)\n  }\n  handleTextChange = (e) => {\n    this.props.setTextFilter(e.target.value)\n  }\n  handleNameSort = () => {\n    if(this.state.sort === 'nameAsc') {\n      this.props.sortByNameDesc()\n      this.setState(() => ({ sort: 'nameDesc' }))\n    } else {\n      this.props.sortByNameAsc()\n      this.setState(() => ({ sort: 'nameAsc' }))\n    }\n  }\n  handlePriceSort = () => {\n    if(this.state.sort === 'priceDesc') {\n      this.props.sortByPriceAsc()\n      this.setState(() => ({ sort: 'priceAsc' }))\n    } else {\n      this.props.sortByPriceDesc()\n      this.setState(() => ({ sort: 'priceDesc' }))\n    }\n  }\n  handleChangeSort = () => {\n    if(this.state.sort === 'changeDesc') {\n      this.props.sortByChangeAsc()\n      this.setState(() => ({ sort: 'changeAsc' }))\n    } else {\n      this.props.sortByChangeDesc()\n      this.setState(() => ({ sort: 'changeDesc' }))\n    }\n  }\n  handleMktCapSort = () => {\n    if(this.state.sort === 'mktCapDesc') {\n      this.props.sortByMktCapAsc()\n      this.setState(() => ({ sort: 'mktCapAsc' }))\n    } else {\n      this.props.sortByMktCapDesc()\n      this.setState(() => ({ sort: 'mktCapDesc' }))\n    }\n  }\n  render() {\n    return (\n      <div className=\"content-container\">\n        <div className=\"index-header\">\n\n        {/* LOAD CURRENT TEXT FILTER INTO SEARCH BAR WHEN RETURNING TO PAGE */}\n\n          <input type=\"text\" className=\"text-input\" placeholder=\"Search coins\" value={this.props.filters.text} onChange={this.handleTextChange} />\n          <div className=\"updater\">\n            <div className=\"updater__last-updated\">\n              Last Updated:\n              <span className=\"updater__time\">\n                {this.props.priceInfo.allLastUpdated && moment(this.props.priceInfo.allLastUpdated).format('HH:mm')}\n              </span>\n            </div>\n            <button\n              type=\"button\"\n              className=\"updater__button\"\n              onClick={this.updatePrices}\n            >\n              <FaSync size=\"1rem\" id=\"refresh-prices-icon\" />Refresh Prices\n            </button>\n          </div>\n        </div>\n        <div id=\"coin-list\" className=\"index\">\n          <div className=\"table-header show-for-desktop\">\n            <div className=\"text-center\">#</div>\n            <div className=\"table_header__sort\" onClick={this.handleNameSort}>\n              {this.state.sort === 'nameAsc' ? (\n                <FaCaretUp size=\"1.8rem\" />\n              ) : (\n                this.state.sort === 'nameDesc' ? (\n                  <FaCaretDown size=\"1.8rem\" />\n                ) : (\n                  <FaCaretRight size=\"1.8rem\" />\n                )\n              )}\n              Coin\n            </div>\n            <div className=\"table_header__sort table_header__sort--right\" onClick={this.handlePriceSort}>\n              {this.state.sort === 'priceAsc' ? (\n                <FaCaretUp size=\"1.8rem\" />\n              ) : (\n                this.state.sort === 'priceDesc' ? (\n                  <FaCaretDown size=\"1.8rem\" />\n                ) : (\n                  <FaCaretRight size=\"1.8rem\" />\n                )\n              )}\n              Price\n            </div>\n            <div className=\"table_header__sort table_header__sort--right\" onClick={this.handleChangeSort}>\n              {this.state.sort === 'changeAsc' ? (\n                <FaCaretUp size=\"1.8rem\" />\n              ) : (\n                this.state.sort === 'changeDesc' ? (\n                  <FaCaretDown size=\"1.8rem\" />\n                ) : (\n                  <FaCaretRight size=\"1.8rem\" />\n                )\n              )}\n              Change\n            </div>\n            <div className=\"table_header__sort table_header__sort--right\" onClick={this.handleMktCapSort}>\n              {this.state.sort === 'mktCapAsc' ? (\n                <FaCaretUp size=\"1.8rem\" />\n              ) : (\n                this.state.sort === 'mktCapDesc' ? (\n                  <FaCaretDown size=\"1.8rem\" />\n                ) : (\n                  <FaCaretRight size=\"1.8rem\" />\n                )\n              )}\n              Market Cap\n            </div>\n          </div>\n          {(this.props.coins.length === 0 || !this.props.priceInfo.all) ? (\n            <div className=\"loading__notificaton\">Loading coin data<FaCircleNotch size=\"2.4rem\" className=\"fa-spin\" /></div>\n          ) : (this.props.visibleCoins && this.props.visibleCoins.length) > 0 ? (\n            <>\n              <Scroller sliceSize=\"25\" >\n                {\n                this.props.visibleCoins\n                  .map((coin, i) => (\n                    <CoinTile key={coin.symbol} type={'full'} index={i} coin={coin} />\n                  ))\n                }\n              </Scroller>\n            </>\n          ) : (\n            <div className=\"loading__notificaton\">No coins found</div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  coins: state.coins,\n  visibleCoins: selectCoins(state.coins, state.filters),\n  favorites: state.favorites,\n  filters: state.filters,\n  priceInfo: state.priceInfo\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  setCoins: (coins) => dispatch(setCoins(coins)),\n  updatePriceInfo: (lastUpdated) => dispatch(updatePriceInfo(lastUpdated)),\n  setTextFilter: (text) => dispatch(setTextFilter(text)),\n  sortByNameAsc: () => dispatch(sortByNameAsc()),\n  sortByNameDesc: () => dispatch(sortByNameDesc()),\n  sortByMktCapAsc: () => dispatch(sortByMktCapAsc()),\n  sortByMktCapDesc: () => dispatch(sortByMktCapDesc()),\n  sortByPriceAsc: () => dispatch(sortByPriceAsc()),\n  sortByPriceDesc: () => dispatch(sortByPriceDesc()),\n  sortByChangeAsc: () => dispatch(sortByChangeAsc()),\n  sortByChangeDesc: () => dispatch(sortByChangeDesc())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CoinIndexPage)\n"]},"metadata":{},"sourceType":"module"}